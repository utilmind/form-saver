!function(e,t,n){var a,i,o="form",r="isLoadingStorage",s=".no-save",c='input[name]:not([type="password"]):not([type="file"]):not([type="hidden"]):not([readonly]),textarea[name]:not([readonly]),select[name]',l=function(e,t){return e=e?c.replace(':not([type="password"])',""):c,t&&(e=e.replace(':not([type="files"])',"")),e},d="tt-input",f="save-disabled-state",h="d-",u="fs-unload-field",g="_fs_ts",p="saveForm",m="initFormSaver",v=m+"Utils",y=e.lStorage||localStorage,k=e.sStorage||sessionStorage,S=function(e,n,c,d,u,p){n?n.storageKey&&(c=n.keep1stHash,d=n.noUseHash,u=n.noUseStorage,p=n.storePasswords,n=n.storageKey):n=o;var m=0>u?k:y,v=(e=t(e),function(){if(u||!e.data(r)){var a,i="",o={};if(e.find(l(p)).not(s).each(function(){var a,r,s=this,c=t(s),l=s.type,d=s.name,g=c.val();if("radio"===l){if(!s.checked){if(e.find('input[type="radio"][name="'+d+'"]:checked').length)return;g=null}}else"checkbox"===l&&(r=null!==s.getAttribute("checked"),g=s.checked?!r&&1:!!(a=r)&&0);Array.isArray(g)&&(g=JSON.stringify(g)),u||!g&&!a||(o[d]=g),(g||a)&&(i+="&"+d+"="+encodeURIComponent(g)),c.hasClass(f)&&(g=s.disabled?1:0,u||m.setItem(n+h+d,g),g&&(i+="&d-"+d+"="+g))}),c&&(a=location.hash)){var v=a.indexOf("&");-1!==v&&(a=a.slice(0,v)),a+=i}else(a=i.slice(1))&&(a="#"+a);return u||(o[g]=Date.now(),m.setItem(n,JSON.stringify(o))),d||history.replaceState(null,null,location.origin+location.pathname+location.search+a),a}});if(0>u&&(u=0),u)return v();a?(v(),a=0):(clearTimeout(i),i=setTimeout(function(){try{v()}catch(e){}},99))},I=function(e,a,i,c,p,m,v,I){a?a.storageKey&&(i=a.keep1stHash,c=a.noUseHash,p=a.noUseStorage,m=a.storePasswords,v=a.onLoadStorage,I=a.keyField,a=a.storageKey):a=o;var b=0>p?k:y;0>p&&(p=0);var w=!1,x=e.typeahead,O=c?"":location.hash.slice(1),U=!p&&parseJSON(b.getItem(a))||{},C=function(e,t){return O&&(t=O.match("(&|^)"+(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"=([^&$]+)")))?decodeURIComponent(t[2]):null},F=function(e){return n===U[e]?null:U[e]},J=function(e,t){return null!==(t=c?null:C(e))||p||(t=F(e)),t},K=function(e){C(e)?p=1:c=1,I=0};if(i&&-1===O.indexOf("&")&&(O=""),!p&&(U&&v&&(U=v(U)||{}),O)){var N=k.getItem(u);if(N&&C(N)!==F(N)){var R,E,H,$=O.match(new RegExp("(&"+(i?"":"|^")+")([^\\s=]+)=([^&$]+)","g"));for(E=0;E<$.length;++E)if(N!==(H=$[E].slice(1).split("="))[0]&&decodeURIComponent(H[1])!==F(H[0])){R=1;break}R||(O="")}else I&&"string"==typeof I&&K(I)}return e.data(r,1).find(l(m)).not(s).each(function(){try{var e=this,n=t(e),a=e.type,i=e.name;I&&K(i);var o,r=J(i),s=n.data("load");if(s&&(r=s(r)),"checkbox"===a){if(null!==r){var c=!!r&&0!=r;o=e.checked,e.checked=c,(c&&!o||!c&&o)&&(n.trigger("change"),w=1)}}else if(r)if("radio"===a)e.value===r&&(o=e.checked,e.checked=1,o||(n.trigger("change"),w=1));else if(e.multiple&&"["===r[0])try{(r=JSON.parse(r)).length&&(n.find("option:selected").prop("selected",0),t.each(r,function(e,t){n.find('option[value="'+t+'"]').prop("selected",1)}),w=1)}catch(e){}else(o=n.val())!==r&&(x&&n.hasClass(d)?n.typeahead("val",r):n.val(r),n.trigger("change"),""===o&&(w=1)),n.hasClass(f)&&0<J(h+i)&&n.prop("disabled",1).closest("div").find("button i").removeClass("fa-eye").addClass("fa-eye-slash")}catch(e){console.error(e)}}),S(e,a,i,c||!!O,p||!O),e.data(r,0),w&&e.trigger("restore",w=U[g]||w),w};t.fn[v]=function(){return this.each(function(){var e=this,n=t(e);n.data(v)||(n.data(v,1),n.find(".reset-fields").on("click",function(a){a.preventDefault();var i,o,r=t(this).data("reset-block"),s=l(1,1);if(r?i="#"===r[0]?t(r):n.find(r):"FORM"!==e.tagName&&(i=n),i.length){(o=i.find(s).not(".no-reset")).not('select,input[type="checkbox"],input[type="radio"]').each(function(){this.value=t(this).data("def")||this.defaultValue}),n.typeahead&&o.filter("input."+d).each(function(){t(this).typeahead("val",t(this).data("def")||this.defaultValue)}),o.filter(":checked").prop("checked",0);var c=o.filter("select");c.filter("[multiple]").find("option:selected").prop("selected",0),c.not("[multiple]").each(function(e){this.selectedIndex=0}),i.trigger("reset")}else n.resetForm?n.resetForm():n.trigger("reset"),o=n.find(s);o.trigger("change").first(":enabled").trigger("focus")}),n.find(".check-all").on("click",function(e){e.preventDefault();var a=t(this),i=!!a.data("check");n.find(a.data("within")+' input[type="checkbox"]').each(function(){this.checked!==i&&(this.checked=i,t(this).trigger("change"))})}))})},t.fn[m]=function(i){return i||(i={}),this.each(function(){var r=t(this),s=i.reset;r.data(m)||(r.data(m,i),s?(0>i.noUseStorage?k:y).removeItem("string"==typeof s?s:i.storageKey||o):(n===i.load||i.load)&&I(r,i),r.find(c).on("change",function(){S(r,i)}),e.addEventListener("beforeunload",function(e){a=1,S(r,i,1),(e=document.activeElement)&&e.name?k.setItem(u,e.name):k.removeItem(u)}),r[v]())})},t.fn[p]=function(){return this.each(function(){var e=t(this),n=e.data(m);S(e,n)})},e[p]=S,e.loadForm=I,e.clearStorageKeys=function(e,t){var n,a,i=t?k:y,o=e.length,r=i.length,s=[];for(a=0;a<r;++a)(n=i.key(a)).slice(0,o)===e&&s.push(n);s.forEach(function(e){i.removeItem(e)})},e.removeStoredJsonKeys=function(e,t,n){var a,i=n?k:y,o=parseJSON(i.getItem(e));if(o){for(a in"string"==typeof t&&(t=[t]),t)delete o[t[a]];i.setItem(e,JSON.stringify(o))}}}(window,jQuery);