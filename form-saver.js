!function(e,t,n){var a,i,r="form",o="isLoadingStorage",s=".no-save",c='input[name]:not([type="password"]):not([type="file"]):not([type="hidden"]):not([readonly]),textarea[name]:not([readonly]),select[name]',l=function(e,t){return e=e?c.replace(':not([type="password"])',""):c,t&&(e=e.replace(':not([type="files"])',"")),e},d="tt-input",f="save-disabled-state",h="d-",u="fs-unload-field",g="_fs_ts",p="saveForm",m="initFormSaver",y=m+"Utils",v=e.lStorage||localStorage,k=e.sStorage||sessionStorage,S=function(e,n,c,d,u,p){n?n.storageKey&&(c=n.keep1stHash,d=n.noUseHash,u=n.noUseStorage,p=n.storePasswords,n=n.storageKey):n=r;var m=0>u?k:v,y=(e=t(e),function(){if(u||!e.data(o)){var a,i="",r={};if(e.find(l(p)).not(s).each(function(){var a,o,s=this,c=t(s),l=s.type,d=s.name,g=c.val();if("radio"===l){if(!s.checked){if(e.find('input[type="radio"][name="'+d+'"]:checked').length)return;g=null}}else"checkbox"===l&&(o=null!==s.getAttribute("checked"),g=s.checked?!o&&1:!!(a=o)&&0);Array.isArray(g)&&(g=JSON.stringify(g)),u||!g&&!a||(r[d]=g),(g||a)&&(i+="&"+d+"="+encodeURIComponent(g)),c.hasClass(f)&&(g=s.disabled?1:0,u||m.setItem(n+h+d,g),g&&(i+="&d-"+d+"="+g))}),c&&(a=location.hash)){var y=a.indexOf("&");-1!==y&&(a=a.slice(0,y)),a+=i}else(a=i.slice(1))&&(a="#"+a);return u||(r[g]=Date.now(),m.setItem(n,JSON.stringify(r))),d||history.replaceState(null,null,location.origin+location.pathname+location.search+a),a}});if(0>u&&(u=0),u)return y();a?(y(),a=0):(clearTimeout(i),i=setTimeout(function(){try{y()}catch(e){}},99))},b=function(e,a,i,c,p,m,y,b){a?a.storageKey&&(i=a.keep1stHash,c=a.noUseHash,p=a.noUseStorage,m=a.storePasswords,y=a.onLoadStorage,b=a.keyField,a=a.storageKey):a=r;var I=0>p?k:v;0>p&&(p=0);var w=!1,x=e.typeahead,O=c?"":location.hash.slice(1),U=!p&&parseJSON(I.getItem(a))||{},C=function(e,t){return O&&(t=O.match("(&|^)"+(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"=([^&$]+)")))?decodeURIComponent(t[2]):null},F=function(e){return n===U[e]?null:U[e]},J=function(e,t){return null!==(t=c?null:C(e))||p||(t=F(e)),t},K=function(e){C(e)?p=1:c=1,b=0};if(i&&-1===O.indexOf("&")&&(O=""),!p&&(U&&y&&(U=y(U)||{}),O)){var N=k.getItem(u);if(N&&C(N)!==F(N)){var A,R,H,$=O.match(new RegExp("(&"+(i?"":"|^")+")([^\\s=]+)=([^&$]+)","g"));for(R=0;R<$.length;++R)if(N!==(H=$[R].slice(1).split("="))[0]&&decodeURIComponent(H[1])!==F(H[0])){A=1;break}A||(O="")}else b&&"string"==typeof b&&K(b)}return e.data(o,1).find(l(m)).not(s).each(function(){try{var e=this,n=t(e),a=e.type,i=e.name;b&&K(i);var r,o=J(i),s=n.data("load");if(s&&(o=s(o)),"checkbox"===a){if(null!==o){var c=!!o&&0!=o;r=e.checked,e.checked=c,(c&&!r||!c&&r)&&(n.trigger("change"),w=1)}}else if(o)if("radio"===a)e.value===o&&(r=e.checked,e.checked=1,r||(n.trigger("change"),w=1));else if(e.multiple&&"["===o[0])try{(o=JSON.parse(o)).length&&(n.find("option:selected").prop("selected",0),t.each(o,function(e,t){n.find('option[value="'+t+'"]').prop("selected",1)}),w=1)}catch(e){}else(r=n.val())!==o&&(x&&n.hasClass(d)?n.typeahead("val",o):n.val(o),n.trigger("change"),""===r&&(w=1)),n.hasClass(f)&&0<J(h+i)&&n.prop("disabled",1).closest("div").find("button i").removeClass("fa-eye").addClass("fa-eye-slash")}catch(e){console.error(e)}}),S(e,a,i,c||!!O,p||!O),e.data(o,0),w&&e.trigger("restore",w=U[g]||w),w};t.fn[y]=function(){return this.each(function(){var e=this,n=t(e);n.data(y)||(n.data(y,1),n.find(".reset-fields").on("click",function(a){a.preventDefault();var i,r,o=t(this).data("reset-block"),s=l(1,1);if(o?i="#"===o[0]?t(o):n.find(o):"FORM"!==e.tagName&&(i=n),i.length){(r=i.find(s).not(".no-reset")).not('select,input[type="checkbox"],input[type="radio"]').each(function(){this.value=t(this).data("def")||this.defaultValue}),n.typeahead&&r.filter("input."+d).each(function(){t(this).typeahead("val",t(this).data("def")||this.defaultValue)}),r.filter(":checked").prop("checked",0);var c=r.filter("select");c.filter("[multiple]").find("option:selected").prop("selected",0),c.not("[multiple]").each(function(e){this.selectedIndex=0}),i.trigger("reset")}else n.resetForm?n.resetForm():n.trigger("reset"),r=n.find(s);r.trigger("change").first(":enabled").trigger("focus")}),n.find(".check-all").on("click",function(e){e.preventDefault();var a=t(this),i=!!a.data("check");n.find(a.data("within")+' input[type="checkbox"]').each(function(){this.checked!==i&&(this.checked=i,t(this).trigger("change"))})}))})},t.fn[m]=function(i){return i||(i={}),this.each(function(){var o=t(this),s=i.reset;o.data(m)||(o.data(m,i),s?(0>i.noUseStorage?k:v).removeItem("string"==typeof s?s:i.storageKey||r):(n===i.load||i.load)&&b(o,i),o.find(c).on("change",function(){S(o,i)}),e.addEventListener("beforeunload",function(e){a=1,S(o,i,1),(e=document.activeElement)&&e.name?k.setItem(u,e.name):k.removeItem(u)}),o[y]())})},t.fn[p]=function(){return this.each(function(){var e=t(this),n=e.data(m);S(e,n)})},e[p]=S,e.loadForm=b,e.clearStorageKeys=function(e,t){var n,a,i,r,o=t?k:v,s=Array.isArray(e)?e:[e],c=[];for(n=0;n<o.length;++n)for(i=o.key(n),a=0;a<s.length;++a)if(r=s[a],i.slice(0,r.length)===r){c.push(i);break}for(n=0;n<c.length;++n)o.removeItem(c[n])},e.removeStoredJsonKeys=function(e,t,n){var a,i=n?k:v,r=parseJSON(i.getItem(e));if(r){for(a in"string"==typeof t&&(t=[t]),t)delete r[t[a]];i.setItem(e,JSON.stringify(r))}}}(window,jQuery);