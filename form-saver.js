!function(e,t,n){var a,r,i="form",o="isLoadingStorage",s=".no-save",c='input[name]:not([type="password"]):not([type="file"]):not([type="hidden"]):not([readonly]),textarea[name]:not([readonly]),select[name]',l=function(e,t){return e=e?c.replace(':not([type="password"])',""):c,t&&(e=e.replace(':not([type="files"])',"")),e},d="tt-input",f="save-disabled-state",h="d-",u="fs-unload-field",g="_fs_ts",p="saveForm",m="initFormSaver",y=m+"Utils",v=e.lStorage||localStorage,k=e.sStorage||sessionStorage,S=function(e,n,c,d,u,p){n?n.storageKey&&(c=n.keep1stHash,d=n.noUseHash,u=n.noUseStorage,p=n.storePasswords,n=n.storageKey):n=i;var m=0>u?k:v,y=(e=t(e),function(){if(u||!e.data(o)){var a,r="",i=u?{}:parseJSON(m.getItem(n));if(e.find(l(p)).not(s).each(function(){var a,o,s=this,c=t(s),l=s.type,d=s.name,g=c.val();if("radio"===l){if(!s.checked){if(e.find('input[type="radio"][name="'+d+'"]:checked').length)return;g=null}}else"checkbox"===l?(o=null!==s.getAttribute("checked"),g=s.checked?o?null:1:(a=o)?0:null):Array.isArray(g)&&(g=JSON.stringify(g));u||(g||a?i[d]=g:i&&i.hasOwnProperty(d)&&delete i[d]),(g||a)&&(r+="&"+d+"="+encodeURIComponent(g)),c.hasClass(f)&&(g=s.disabled?1:0,u||m.setItem(n+h+d,g),g&&(r+="&d-"+d+"="+g))}),c&&(a=location.hash)){var y=a.indexOf("&");-1!==y&&(a=a.slice(0,y)),a+=r}else(a=r.slice(1))&&(a="#"+a);return u||(i[g]=Date.now(),m.setItem(n,JSON.stringify(i))),d||history.replaceState(null,null,location.origin+location.pathname+location.search+a),a}});if(0>u&&(u=0),u)return y();a?(y(),a=0):(clearTimeout(r),r=setTimeout(function(){try{y()}catch(e){}},99))},I=function(e,a,r,c,p,m,y,I){a?a.storageKey&&(r=a.keep1stHash,c=a.noUseHash,p=a.noUseStorage,m=a.storePasswords,y=a.onLoadStorage,I=a.keyField,a=a.storageKey):a=i;var b=0>p?k:v;0>p&&(p=0);var O=!1,w=e.typeahead,x=c?"":location.hash.slice(1),U=!p&&parseJSON(b.getItem(a))||{},C=function(e,t){return x&&(t=x.match("(&|^)"+(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"=([^&$]+)")))?decodeURIComponent(t[2]):null},J=function(e){return n===U[e]?null:U[e]},N=function(e,t){return null!==(t=c?null:C(e))||p||(t=J(e)),t},F=function(e){C(e)?p=1:c=1,I=0};if(r&&-1===x.indexOf("&")&&(x=""),!p&&(U&&y&&(U=y(U)||{}),x)){var K=k.getItem(u);if(K&&C(K)!==J(K)){var A,R,H,$=x.match(new RegExp("(&"+(r?"":"|^")+")([^\\s=]+)=([^&$]+)","g"));for(R=0;R<$.length;++R)if(K!==(H=$[R].slice(1).split("="))[0]&&decodeURIComponent(H[1])!==J(H[0])){A=1;break}A||(x="")}else I&&"string"==typeof I&&F(I)}return e.data(o,1).find(l(m)).not(s).each(function(){try{var e=this,n=t(e),a=e.type,r=e.name;I&&F(r);var i,o=N(r),s=n.data("load");if(s&&(o=s(o)),"checkbox"===a){if(null!==o){var c=!!o&&0!=o;i=e.checked,e.checked=c,(c&&!i||!c&&i)&&(n.trigger("change"),O=1)}}else if(o)if("radio"===a)e.value===o&&(i=e.checked,e.checked=1,i||(n.trigger("change"),O=1));else if(e.multiple&&"["===o[0])try{(o=JSON.parse(o)).length&&(n.find("option:selected").prop("selected",0),t.each(o,function(e,t){n.find('option[value="'+t+'"]').prop("selected",1)}),O=1)}catch(e){}else(i=n.val())!==o&&(w&&n.hasClass(d)?n.typeahead("val",o):n.val(o),n.trigger("change"),""===i&&(O=1)),n.hasClass(f)&&0<N(h+r)&&n.prop("disabled",1).closest("div").find("button i").removeClass("fa-eye").addClass("fa-eye-slash")}catch(e){console.error(e)}}),S(e,a,r,c||!!x,p||!x),e.data(o,0),O&&e.trigger("restore",O=U[g]||O),O};t.fn[y]=function(){return this.each(function(){var e=this,n=t(e);n.data(y)||(n.data(y,1),n.find(".reset-fields").on("click",function(a){a.preventDefault();var r,i,o=t(this).data("reset-block"),s=l(1,1);if(o?r="#"===o[0]?t(o):n.find(o):"FORM"!==e.tagName&&(r=n),r.length){(i=r.find(s).not(".no-reset")).not('select,input[type="checkbox"],input[type="radio"]').each(function(){this.value=t(this).data("def")||this.defaultValue}),n.typeahead&&i.filter("input."+d).each(function(){t(this).typeahead("val",t(this).data("def")||this.defaultValue)}),i.filter(":checked").prop("checked",0);var c=i.filter("select");c.filter("[multiple]").find("option:selected").prop("selected",0),c.not("[multiple]").each(function(e){this.selectedIndex=0}),r.trigger("reset")}else n.resetForm?n.resetForm():n.trigger("reset"),i=n.find(s);i.trigger("change").first(":enabled").trigger("focus")}),n.find(".check-all").on("click",function(e){e.preventDefault();var a=t(this),r=!!a.data("check");n.find(a.data("within")+' input[type="checkbox"]').each(function(){this.checked!==r&&(this.checked=r,t(this).trigger("change"))})}))})},t.fn[m]=function(r){return r||(r={}),this.each(function(){var o=t(this),s=r.reset;o.data(m)||(o.data(m,r),s?(0>r.noUseStorage?k:v).removeItem("string"==typeof s?s:r.storageKey||i):(n===r.load||r.load)&&I(o,r),o.find(c).on("change",function(){S(o,r)}),e.addEventListener("beforeunload",function(e){a=1,S(o,r,1),(e=document.activeElement)&&e.name?k.setItem(u,e.name):k.removeItem(u)}),o[y]())})},t.fn[p]=function(){return this.each(function(){var e=t(this),n=e.data(m);S(e,n)})},e[p]=S,e.loadForm=I,e.clearStorageKeys=function(e,t){var n,a,r,i,o=t?k:v,s=Array.isArray(e)?e:[e],c=[];for(n=0;n<o.length;++n)for(r=o.key(n),a=0;a<s.length;++a)if(i=s[a],r.slice(0,i.length)===i){c.push(r);break}for(n=0;n<c.length;++n)o.removeItem(c[n])},e.removeStoredJsonKeys=function(e,t,n){var a,r=n?k:v,i=parseJSON(r.getItem(e));if(i){for(a in"string"==typeof t&&(t=[t]),t)delete i[t[a]];r.setItem(e,JSON.stringify(i))}}}(window,jQuery);